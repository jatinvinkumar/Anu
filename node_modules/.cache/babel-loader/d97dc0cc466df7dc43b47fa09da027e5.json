{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.orderedReducer = exports.dataReducer = exports.listenersReducer = exports.errorsReducer = exports.profileReducer = exports.authErrorReducer = exports.authReducer = exports.timestampsReducer = exports.requestedReducer = exports.requestingReducer = exports.isInitializingReducer = undefined;\n\nvar _assign2 = require('lodash/fp/assign');\n\nvar _assign3 = _interopRequireDefault(_assign2);\n\nvar _setWith2 = require('lodash/fp/setWith');\n\nvar _setWith3 = _interopRequireDefault(_setWith2);\n\nvar _isObject2 = require('lodash/isObject');\n\nvar _isObject3 = _interopRequireDefault(_isObject2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _get2 = require('lodash/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _omit2 = require('lodash/omit');\n\nvar _omit3 = _interopRequireDefault(_omit2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _constants = require('./constants');\n\nvar _reducers = require('./utils/reducers');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar START = _constants.actionTypes.START,\n    SET = _constants.actionTypes.SET,\n    SET_PROFILE = _constants.actionTypes.SET_PROFILE,\n    MERGE = _constants.actionTypes.MERGE,\n    LOGIN = _constants.actionTypes.LOGIN,\n    LOGOUT = _constants.actionTypes.LOGOUT,\n    LOGIN_ERROR = _constants.actionTypes.LOGIN_ERROR,\n    CLEAR_ERRORS = _constants.actionTypes.CLEAR_ERRORS,\n    REMOVE = _constants.actionTypes.REMOVE,\n    NO_VALUE = _constants.actionTypes.NO_VALUE,\n    SET_LISTENER = _constants.actionTypes.SET_LISTENER,\n    UNSET_LISTENER = _constants.actionTypes.UNSET_LISTENER,\n    AUTHENTICATION_INIT_STARTED = _constants.actionTypes.AUTHENTICATION_INIT_STARTED,\n    AUTHENTICATION_INIT_FINISHED = _constants.actionTypes.AUTHENTICATION_INIT_FINISHED,\n    AUTH_EMPTY_CHANGE = _constants.actionTypes.AUTH_EMPTY_CHANGE,\n    AUTH_LINK_SUCCESS = _constants.actionTypes.AUTH_LINK_SUCCESS,\n    UNAUTHORIZED_ERROR = _constants.actionTypes.UNAUTHORIZED_ERROR,\n    AUTH_UPDATE_SUCCESS = _constants.actionTypes.AUTH_UPDATE_SUCCESS,\n    AUTH_RELOAD_SUCCESS = _constants.actionTypes.AUTH_RELOAD_SUCCESS,\n    PROFILE_UPDATE_SUCCESS = _constants.actionTypes.PROFILE_UPDATE_SUCCESS;\n\nvar isInitializingReducer = exports.isInitializingReducer = function isInitializingReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case AUTHENTICATION_INIT_STARTED:\n      return true;\n\n    case AUTHENTICATION_INIT_FINISHED:\n      return false;\n\n    default:\n      return state;\n  }\n};\n\nvar requestingReducer = exports.requestingReducer = function requestingReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref = arguments[1];\n  var type = _ref.type,\n      path = _ref.path;\n\n  switch (type) {\n    case START:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), true));\n\n    case NO_VALUE:\n    case SET:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), false));\n\n    default:\n      return state;\n  }\n};\n\nvar requestedReducer = exports.requestedReducer = function requestedReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref2 = arguments[1];\n  var type = _ref2.type,\n      path = _ref2.path;\n\n  switch (type) {\n    case START:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), false));\n\n    case NO_VALUE:\n    case SET:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), true));\n\n    default:\n      return state;\n  }\n};\n\nvar timestampsReducer = exports.timestampsReducer = function timestampsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref3 = arguments[1];\n  var type = _ref3.type,\n      path = _ref3.path;\n\n  switch (type) {\n    case START:\n    case NO_VALUE:\n    case SET:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), Date.now()));\n\n    default:\n      return state;\n  }\n};\n\nvar createDataReducer = function createDataReducer() {\n  var actionKey = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    switch (action.type) {\n      case SET:\n        return (0, _setWith3.default)(Object, (0, _reducers.getDotStrPath)(action.path), action[actionKey], state);\n\n      case MERGE:\n        var previousData = (0, _get3.default)(state, (0, _reducers.getDotStrPath)(action.path), {});\n        var mergedData = (0, _assign3.default)(previousData, action[actionKey]);\n        return (0, _setWith3.default)(Object, (0, _reducers.getDotStrPath)(action.path), mergedData, state);\n\n      case NO_VALUE:\n        return (0, _setWith3.default)(Object, (0, _reducers.getDotStrPath)(action.path), null, state);\n\n      case REMOVE:\n        if (actionKey === 'data') {\n          return (0, _reducers.recursiveUnset)((0, _reducers.getDotStrPath)(action.path), state);\n        }\n\n        return state;\n\n      case LOGOUT:\n        if (action.preserve) {\n          if ((0, _isArray3.default)(action.preserve)) {\n            return (0, _pick3.default)(state, action.preserve);\n          } else if ((0, _isObject3.default)(action.preserve)) {\n            return action.preserve[actionKey] ? (0, _reducers.preserveValuesFromState)(state, action.preserve[actionKey], {}) : {};\n          }\n\n          throw new Error('Invalid preserve parameter. It must be an Object or an Array');\n        }\n\n        return {};\n\n      default:\n        return state;\n    }\n  };\n};\n\nvar authReducer = exports.authReducer = function authReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    isLoaded: false,\n    isEmpty: true\n  };\n  var action = arguments[1];\n\n  switch (action.type) {\n    case LOGIN:\n    case AUTH_UPDATE_SUCCESS:\n      if (!action.auth) {\n        return {\n          isEmpty: true,\n          isLoaded: true\n        };\n      }\n\n      var auth = action.auth.toJSON ? action.auth.toJSON() : action.auth;\n\n      if (action.preserve && action.preserve.auth) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.auth, _extends({}, auth, {\n          isEmpty: false,\n          isLoaded: true\n        }));\n      }\n\n      return _extends({}, auth, {\n        isEmpty: false,\n        isLoaded: true\n      });\n\n    case AUTH_LINK_SUCCESS:\n    case AUTH_RELOAD_SUCCESS:\n      if (!action.payload) {\n        return {\n          isEmpty: true,\n          isLoaded: true\n        };\n      }\n\n      return _extends({}, action.payload.toJSON ? action.payload.toJSON() : action.payload, {\n        isEmpty: false,\n        isLoaded: true\n      });\n\n    case LOGIN_ERROR:\n    case AUTH_EMPTY_CHANGE:\n    case LOGOUT:\n      if (action.preserve && action.preserve.auth) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.auth, {\n          isLoaded: true,\n          isEmpty: true\n        });\n      }\n\n      return {\n        isLoaded: true,\n        isEmpty: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nvar authErrorReducer = exports.authErrorReducer = function authErrorReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case LOGIN:\n    case LOGOUT:\n      return null;\n\n    case LOGIN_ERROR:\n    case UNAUTHORIZED_ERROR:\n      return action.authError;\n\n    default:\n      return state;\n  }\n};\n\nvar profileReducer = exports.profileReducer = function profileReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    isLoaded: false,\n    isEmpty: true\n  };\n  var action = arguments[1];\n\n  switch (action.type) {\n    case SET_PROFILE:\n      if (!action.profile) {\n        return _extends({}, state, {\n          isEmpty: true,\n          isLoaded: true\n        });\n      }\n\n      return _extends({}, action.profile, {\n        isEmpty: false,\n        isLoaded: true\n      });\n\n    case PROFILE_UPDATE_SUCCESS:\n      return _extends({}, state, action.payload);\n\n    case LOGIN:\n      if (action.preserve && action.preserve.profile) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.profile, {\n          isLoaded: true,\n          isEmpty: true\n        });\n      }\n\n      return {\n        isEmpty: true,\n        isLoaded: false\n      };\n\n    case LOGOUT:\n    case AUTH_EMPTY_CHANGE:\n      if (action.preserve && action.preserve.profile) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.profile, {\n          isLoaded: true,\n          isEmpty: true\n        });\n      }\n\n      return {\n        isLoaded: true,\n        isEmpty: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nvar errorsReducer = exports.errorsReducer = function errorsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case LOGIN_ERROR:\n    case UNAUTHORIZED_ERROR:\n      if (!(0, _isArray3.default)(state)) {\n        throw new Error('Errors state must be an array');\n      }\n\n      return [].concat(_toConsumableArray(state), [action.authError]);\n\n    case LOGOUT:\n    case CLEAR_ERRORS:\n      if (action.preserve && action.preserve.errors) {\n        if (typeof action.preserve.errors !== 'function') {\n          throw new Error('Preserve for the errors state currently only supports functions');\n        }\n\n        return state.filter(action.preserve.errors);\n      }\n\n      return [];\n\n    default:\n      return state;\n  }\n};\n\nvar listenersById = function listenersById() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref4 = arguments[1];\n  var type = _ref4.type,\n      path = _ref4.path,\n      payload = _ref4.payload;\n\n  switch (type) {\n    case SET_LISTENER:\n      return _extends({}, state, _defineProperty({}, payload.id, {\n        id: payload.id,\n        path: path\n      }));\n\n    case UNSET_LISTENER:\n      return (0, _omit3.default)(state, [payload.id]);\n\n    default:\n      return state;\n  }\n};\n\nvar allListeners = function allListeners() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _ref5 = arguments[1];\n  var type = _ref5.type,\n      path = _ref5.path,\n      payload = _ref5.payload;\n\n  switch (type) {\n    case SET_LISTENER:\n      return [].concat(_toConsumableArray(state), [payload.id]);\n\n    case UNSET_LISTENER:\n      return state.filter(function (lId) {\n        return lId !== payload.id;\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar listenersReducer = exports.listenersReducer = (0, _reducers.combineReducers)({\n  byId: listenersById,\n  allIds: allListeners\n});\nvar dataReducer = exports.dataReducer = createDataReducer();\nvar orderedReducer = exports.orderedReducer = createDataReducer('ordered');","map":{"version":3,"sources":["/Users/jatinkumar/Desktop/Anupuam/node_modules/react-redux-firebase/es/reducers.js"],"names":["Object","defineProperty","exports","value","orderedReducer","dataReducer","listenersReducer","errorsReducer","profileReducer","authErrorReducer","authReducer","timestampsReducer","requestedReducer","requestingReducer","isInitializingReducer","undefined","_assign2","require","_assign3","_interopRequireDefault","_setWith2","_setWith3","_isObject2","_isObject3","_isArray2","_isArray3","_get2","_get3","_omit2","_omit3","_pick2","_pick3","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_constants","_reducers","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_defineProperty","enumerable","configurable","writable","START","actionTypes","SET","SET_PROFILE","MERGE","LOGIN","LOGOUT","LOGIN_ERROR","CLEAR_ERRORS","REMOVE","NO_VALUE","SET_LISTENER","UNSET_LISTENER","AUTHENTICATION_INIT_STARTED","AUTHENTICATION_INIT_FINISHED","AUTH_EMPTY_CHANGE","AUTH_LINK_SUCCESS","UNAUTHORIZED_ERROR","AUTH_UPDATE_SUCCESS","AUTH_RELOAD_SUCCESS","PROFILE_UPDATE_SUCCESS","state","action","type","_ref","path","getSlashStrPath","_ref2","_ref3","Date","now","createDataReducer","actionKey","getDotStrPath","previousData","mergedData","recursiveUnset","preserve","preserveValuesFromState","Error","isLoaded","isEmpty","auth","toJSON","payload","authError","profile","concat","errors","filter","listenersById","_ref4","id","allListeners","_ref5","lId","combineReducers","byId","allIds"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.orderedReducer = exports.dataReducer = exports.listenersReducer = exports.errorsReducer = exports.profileReducer = exports.authErrorReducer = exports.authReducer = exports.timestampsReducer = exports.requestedReducer = exports.requestingReducer = exports.isInitializingReducer = undefined;\n\nvar _assign2 = require('lodash/fp/assign');\n\nvar _assign3 = _interopRequireDefault(_assign2);\n\nvar _setWith2 = require('lodash/fp/setWith');\n\nvar _setWith3 = _interopRequireDefault(_setWith2);\n\nvar _isObject2 = require('lodash/isObject');\n\nvar _isObject3 = _interopRequireDefault(_isObject2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _get2 = require('lodash/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _omit2 = require('lodash/omit');\n\nvar _omit3 = _interopRequireDefault(_omit2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constants = require('./constants');\n\nvar _reducers = require('./utils/reducers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar START = _constants.actionTypes.START,\n    SET = _constants.actionTypes.SET,\n    SET_PROFILE = _constants.actionTypes.SET_PROFILE,\n    MERGE = _constants.actionTypes.MERGE,\n    LOGIN = _constants.actionTypes.LOGIN,\n    LOGOUT = _constants.actionTypes.LOGOUT,\n    LOGIN_ERROR = _constants.actionTypes.LOGIN_ERROR,\n    CLEAR_ERRORS = _constants.actionTypes.CLEAR_ERRORS,\n    REMOVE = _constants.actionTypes.REMOVE,\n    NO_VALUE = _constants.actionTypes.NO_VALUE,\n    SET_LISTENER = _constants.actionTypes.SET_LISTENER,\n    UNSET_LISTENER = _constants.actionTypes.UNSET_LISTENER,\n    AUTHENTICATION_INIT_STARTED = _constants.actionTypes.AUTHENTICATION_INIT_STARTED,\n    AUTHENTICATION_INIT_FINISHED = _constants.actionTypes.AUTHENTICATION_INIT_FINISHED,\n    AUTH_EMPTY_CHANGE = _constants.actionTypes.AUTH_EMPTY_CHANGE,\n    AUTH_LINK_SUCCESS = _constants.actionTypes.AUTH_LINK_SUCCESS,\n    UNAUTHORIZED_ERROR = _constants.actionTypes.UNAUTHORIZED_ERROR,\n    AUTH_UPDATE_SUCCESS = _constants.actionTypes.AUTH_UPDATE_SUCCESS,\n    AUTH_RELOAD_SUCCESS = _constants.actionTypes.AUTH_RELOAD_SUCCESS,\n    PROFILE_UPDATE_SUCCESS = _constants.actionTypes.PROFILE_UPDATE_SUCCESS;\nvar isInitializingReducer = exports.isInitializingReducer = function isInitializingReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case AUTHENTICATION_INIT_STARTED:\n      return true;\n    case AUTHENTICATION_INIT_FINISHED:\n      return false;\n    default:\n      return state;\n  }\n};\n\nvar requestingReducer = exports.requestingReducer = function requestingReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref = arguments[1];\n  var type = _ref.type,\n      path = _ref.path;\n\n  switch (type) {\n    case START:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), true));\n    case NO_VALUE:\n    case SET:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), false));\n    default:\n      return state;\n  }\n};\n\nvar requestedReducer = exports.requestedReducer = function requestedReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref2 = arguments[1];\n  var type = _ref2.type,\n      path = _ref2.path;\n\n  switch (type) {\n    case START:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), false));\n    case NO_VALUE:\n    case SET:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), true));\n    default:\n      return state;\n  }\n};\n\nvar timestampsReducer = exports.timestampsReducer = function timestampsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref3 = arguments[1];\n  var type = _ref3.type,\n      path = _ref3.path;\n\n  switch (type) {\n    case START:\n    case NO_VALUE:\n    case SET:\n      return _extends({}, state, _defineProperty({}, (0, _reducers.getSlashStrPath)(path), Date.now()));\n    default:\n      return state;\n  }\n};\n\nvar createDataReducer = function createDataReducer() {\n  var actionKey = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    switch (action.type) {\n      case SET:\n        return (0, _setWith3.default)(Object, (0, _reducers.getDotStrPath)(action.path), action[actionKey], state);\n      case MERGE:\n        var previousData = (0, _get3.default)(state, (0, _reducers.getDotStrPath)(action.path), {});\n        var mergedData = (0, _assign3.default)(previousData, action[actionKey]);\n        return (0, _setWith3.default)(Object, (0, _reducers.getDotStrPath)(action.path), mergedData, state);\n      case NO_VALUE:\n        return (0, _setWith3.default)(Object, (0, _reducers.getDotStrPath)(action.path), null, state);\n      case REMOVE:\n        if (actionKey === 'data') {\n          return (0, _reducers.recursiveUnset)((0, _reducers.getDotStrPath)(action.path), state);\n        }\n        return state;\n      case LOGOUT:\n        if (action.preserve) {\n          if ((0, _isArray3.default)(action.preserve)) {\n            return (0, _pick3.default)(state, action.preserve);\n          } else if ((0, _isObject3.default)(action.preserve)) {\n            return action.preserve[actionKey] ? (0, _reducers.preserveValuesFromState)(state, action.preserve[actionKey], {}) : {};\n          }\n          throw new Error('Invalid preserve parameter. It must be an Object or an Array');\n        }\n        return {};\n      default:\n        return state;\n    }\n  };\n};\n\nvar authReducer = exports.authReducer = function authReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { isLoaded: false, isEmpty: true };\n  var action = arguments[1];\n\n  switch (action.type) {\n    case LOGIN:\n    case AUTH_UPDATE_SUCCESS:\n      if (!action.auth) {\n        return {\n          isEmpty: true,\n          isLoaded: true\n        };\n      }\n      var auth = action.auth.toJSON ? action.auth.toJSON() : action.auth;\n\n      if (action.preserve && action.preserve.auth) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.auth, _extends({}, auth, {\n          isEmpty: false,\n          isLoaded: true\n        }));\n      }\n      return _extends({}, auth, { isEmpty: false, isLoaded: true });\n    case AUTH_LINK_SUCCESS:\n    case AUTH_RELOAD_SUCCESS:\n      if (!action.payload) {\n        return {\n          isEmpty: true,\n          isLoaded: true\n        };\n      }\n      return _extends({}, action.payload.toJSON ? action.payload.toJSON() : action.payload, {\n        isEmpty: false,\n        isLoaded: true\n      });\n    case LOGIN_ERROR:\n    case AUTH_EMPTY_CHANGE:\n    case LOGOUT:\n      if (action.preserve && action.preserve.auth) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.auth, {\n          isLoaded: true,\n          isEmpty: true\n        });\n      }\n      return { isLoaded: true, isEmpty: true };\n    default:\n      return state;\n  }\n};\n\nvar authErrorReducer = exports.authErrorReducer = function authErrorReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case LOGIN:\n    case LOGOUT:\n      return null;\n    case LOGIN_ERROR:\n    case UNAUTHORIZED_ERROR:\n      return action.authError;\n    default:\n      return state;\n  }\n};\n\nvar profileReducer = exports.profileReducer = function profileReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { isLoaded: false, isEmpty: true };\n  var action = arguments[1];\n\n  switch (action.type) {\n    case SET_PROFILE:\n      if (!action.profile) {\n        return _extends({}, state, {\n          isEmpty: true,\n          isLoaded: true\n        });\n      }\n      return _extends({}, action.profile, {\n        isEmpty: false,\n        isLoaded: true\n      });\n    case PROFILE_UPDATE_SUCCESS:\n      return _extends({}, state, action.payload);\n    case LOGIN:\n      if (action.preserve && action.preserve.profile) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.profile, {\n          isLoaded: true,\n          isEmpty: true\n        });\n      }\n      return {\n        isEmpty: true,\n        isLoaded: false\n      };\n    case LOGOUT:\n    case AUTH_EMPTY_CHANGE:\n      if (action.preserve && action.preserve.profile) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.profile, {\n          isLoaded: true,\n          isEmpty: true\n        });\n      }\n      return { isLoaded: true, isEmpty: true };\n    default:\n      return state;\n  }\n};\n\nvar errorsReducer = exports.errorsReducer = function errorsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case LOGIN_ERROR:\n    case UNAUTHORIZED_ERROR:\n      if (!(0, _isArray3.default)(state)) {\n        throw new Error('Errors state must be an array');\n      }\n      return [].concat(_toConsumableArray(state), [action.authError]);\n    case LOGOUT:\n    case CLEAR_ERRORS:\n      if (action.preserve && action.preserve.errors) {\n        if (typeof action.preserve.errors !== 'function') {\n          throw new Error('Preserve for the errors state currently only supports functions');\n        }\n        return state.filter(action.preserve.errors);\n      }\n      return [];\n    default:\n      return state;\n  }\n};\n\nvar listenersById = function listenersById() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref4 = arguments[1];\n  var type = _ref4.type,\n      path = _ref4.path,\n      payload = _ref4.payload;\n\n  switch (type) {\n    case SET_LISTENER:\n      return _extends({}, state, _defineProperty({}, payload.id, {\n        id: payload.id,\n        path: path\n      }));\n    case UNSET_LISTENER:\n      return (0, _omit3.default)(state, [payload.id]);\n    default:\n      return state;\n  }\n};\n\nvar allListeners = function allListeners() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _ref5 = arguments[1];\n  var type = _ref5.type,\n      path = _ref5.path,\n      payload = _ref5.payload;\n\n  switch (type) {\n    case SET_LISTENER:\n      return [].concat(_toConsumableArray(state), [payload.id]);\n    case UNSET_LISTENER:\n      return state.filter(function (lId) {\n        return lId !== payload.id;\n      });\n    default:\n      return state;\n  }\n};\n\nvar listenersReducer = exports.listenersReducer = (0, _reducers.combineReducers)({\n  byId: listenersById,\n  allIds: allListeners\n});\n\nvar dataReducer = exports.dataReducer = createDataReducer();\n\nvar orderedReducer = exports.orderedReducer = createDataReducer('ordered');"]},"metadata":{},"sourceType":"script"}